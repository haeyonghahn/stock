# stock
해당 문서 출처는 [재고시스템으로 알아보는 동시성이슈 해결방법](https://www.inflearn.com/course/%EB%8F%99%EC%8B%9C%EC%84%B1%EC%9D%B4%EC%8A%88-%EC%9E%AC%EA%B3%A0%EC%8B%9C%EC%8A%A4%ED%85%9C) 기반으로 작성되었습니다. 

## 재고시스템 만들어보기
## 재고감소 로직 문제점
![image](https://github.com/haeyonghahn/stock/assets/31242766/f4b93643-e012-4a8e-b975-e91875dfdd3a)

레이스 컨디션이란 둘 이상의 Thread가 공유 데이터에 액세스할 수 있고 동시에 변경을 하려고 할 때 발생하는 문제이다. Thread1이 데이터를 가져가서 갱신을 한 값을 Thread2가 가져간 후에 갱신을 하는 것을 예상했다. 
하지만 실제로는 Thread1이 데이터를 가져가서 갱신을 하기 이전에 Thread2가 가져가서 갱신되기 전에 값을 가져가게 된다. 그리고 Thread1이 갱신을 하고 Thread2도 갱신을 하지만 둘 다 재고가 5인 상태에서 1을 줄인 값을 갱신
하기 때문에 갱신이 누락되게 된다. 이렇게 두 개 이상의 스레드가 공유 데이터에 액세스를 할 수 있고 동시에 변경을 하려고 할 때 발생하는 문제를 레이스 컨디션이라고 한다. 이런 문제를 해결하기 위한 여러가지 방법을 알아보자.
